import"../chunks/CWj6FrbW.js";import{a4 as fe,a5 as de,a7 as He,a8 as ae,aj as Ie,d as Pe,K,h as M,o as Ne,g as Fe,w as _,R as Le,G as qe,I as Re,J as _e,L as X,m as Y,aa as Oe,ad as Ye,M as Ae,k as Se,N as Ue,ay as Q,ah as ke,az as he,X as Be,aA as ge,aB as te,aC as Ge,ag as Ve,aD as ze,l as Je,aE as re,aF as Ke,ab as Xe,a6 as Qe,aG as Ce,au as Ze,aH as $e,aI as je,aJ as ea,aK as aa,aL as ta,s as De,at as Ee,z as se,b as V,A as J,a as G,B as le,aw as ne,D as S,C as k,F as A,aM as ra,av as L,V as U,W as q}from"../chunks/DH7zvddy.js";import{p as R,i as sa}from"../chunks/qvmD8DIL.js";import{p as C}from"../chunks/CaspntrT.js";import{s as N,d as la}from"../chunks/BOIzqSA3.js";import{g as O}from"../chunks/yho2i2lu.js";let me=!1;function We(){me||(me=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var a;if(!e.defaultPrevented)for(const t of e.target.elements)(a=t.__on_r)==null||a.call(t)})},{capture:!0}))}function na(e){var a=He,t=ae;fe(null),de(null);try{return e()}finally{fe(a),de(t)}}function Me(e,a,t,o=t){e.addEventListener(a,()=>na(t));const s=e.__on_r;s?e.__on_r=()=>{s(),o(!0)}:e.__on_r=()=>o(!0),We()}function be(e,a){return a}function oa(e,a,t,o){for(var s=[],l=a.length,v=0;v<l;v++)Ge(a[v].e,s,!0);var u=l>0&&s.length===0&&t!==null;if(u){var m=t.parentNode;Ve(m),m.append(t),o.clear(),I(e,a[0].prev,a[l-1].next)}ze(s,()=>{for(var g=0;g<l;g++){var b=a[g];u||(o.delete(b.k),I(e,b.prev,b.next)),Je(b.e,!u)}})}function we(e,a,t,o,s,l=null){var v=e,u={flags:a,items:new Map,first:null},m=(a&Ce)!==0;if(m){var g=e;v=M?K(Ne(g)):g.appendChild(Ie())}M&&Fe();var b=null,E=!1,f=Le(()=>{var h=t();return Qe(h)?h:h==null?[]:ke(h)});Pe(()=>{var h=_(f),n=h.length;if(E&&n===0)return;E=n===0;let y=!1;if(M){var T=qe(v)===Re;T!==(n===0)&&(v=_e(),K(v),X(!1),y=!0)}if(M){for(var w=null,i,r=0;r<n;r++){if(Y.nodeType===Oe&&Y.data===Ye){v=Y,y=!0,X(!1);break}var c=h[r],d=o(c,r);i=xe(Y,u,w,null,c,d,r,s,a,t),u.items.set(d,i),w=i}n>0&&K(_e())}M||ia(h,u,v,s,a,o,t),l!==null&&(n===0?b?Ae(b):b=Se(()=>l(v)):b!==null&&Ue(b,()=>{b=null})),y&&X(!0),_(f)}),M&&(v=Y)}function ia(e,a,t,o,s,l,v){var oe,ie,ue,ce;var u=(s&$e)!==0,m=(s&(re|te))!==0,g=e.length,b=a.items,E=a.first,f=E,h,n=null,y,T=[],w=[],i,r,c,d;if(u)for(d=0;d<g;d+=1)i=e[d],r=l(i,d),c=b.get(r),c!==void 0&&((oe=c.a)==null||oe.measure(),(y??(y=new Set)).add(c));for(d=0;d<g;d+=1){if(i=e[d],r=l(i,d),c=b.get(r),c===void 0){var p=f?f.e.nodes_start:t;n=xe(p,a,n,n===null?a.first:n.next,i,r,d,o,s,v),b.set(r,n),T=[],w=[],f=n.next;continue}if(m&&ua(c,i,d,s),(c.e.f&Q)!==0&&(Ae(c.e),u&&((ie=c.a)==null||ie.unfix(),(y??(y=new Set)).delete(c))),c!==f){if(h!==void 0&&h.has(c)){if(T.length<w.length){var W=w[0],D;n=W.prev;var P=T[0],x=T[T.length-1];for(D=0;D<T.length;D+=1)ye(T[D],W,t);for(D=0;D<w.length;D+=1)h.delete(w[D]);I(a,P.prev,x.next),I(a,n,P),I(a,x,W),f=W,n=x,d-=1,T=[],w=[]}else h.delete(c),ye(c,f,t),I(a,c.prev,c.next),I(a,c,n===null?a.first:n.next),I(a,n,c),n=c;continue}for(T=[],w=[];f!==null&&f.k!==r;)(f.e.f&Q)===0&&(h??(h=new Set)).add(f),w.push(f),f=f.next;if(f===null)continue;c=f}T.push(c),n=c,f=c.next}if(f!==null||h!==void 0){for(var H=h===void 0?[]:ke(h);f!==null;)(f.e.f&Q)===0&&H.push(f),f=f.next;var F=H.length;if(F>0){var z=(s&Ce)!==0&&g===0?t:null;if(u){for(d=0;d<F;d+=1)(ue=H[d].a)==null||ue.measure();for(d=0;d<F;d+=1)(ce=H[d].a)==null||ce.fix()}oa(a,H,z,b)}}u&&Ze(()=>{var ve;if(y!==void 0)for(c of y)(ve=c.a)==null||ve.apply()}),ae.first=a.first&&a.first.e,ae.last=n&&n.e}function ua(e,a,t,o){(o&re)!==0&&he(e.v,a),(o&te)!==0?he(e.i,t):e.i=t}function xe(e,a,t,o,s,l,v,u,m,g){var b=(m&re)!==0,E=(m&Ke)===0,f=b?E?Be(s,!1,!1):ge(s):s,h=(m&te)===0?v:ge(v),n={i:h,v:f,k:l,a:null,e:null,prev:t,next:o};try{return n.e=Se(()=>u(e,f,h,g),M),n.e.prev=t&&t.e,n.e.next=o&&o.e,t===null?a.first=n:(t.next=n,t.e.next=n.e),o!==null&&(o.prev=n,o.e.prev=n.e),n}finally{}}function ye(e,a,t){for(var o=e.next?e.next.e.nodes_start:t,s=a?a.e.nodes_start:t,l=e.e.nodes_start;l!==o;){var v=Xe(l);s.before(l),l=v}}function I(e,a,t){a===null?e.first=t:(a.next=t,a.e.next=t&&t.e),t!==null&&(t.prev=a,t.e.prev=a&&a.e)}function ca(e,a){return e==null?null:String(e)}function va(e,a,t,o){var s=e.__style;if(M||s!==a){var l=ca(a);(!M||l!==e.getAttribute("style"))&&(l==null?e.removeAttribute("style"):e.style.cssText=l),e.__style=a}return o}const fa=Symbol("is custom element"),da=Symbol("is html");function B(e){if(M){var a=!1,t=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var o=e.value;Te(e,"value",null),e.value=o}if(e.hasAttribute("checked")){var s=e.checked;Te(e,"checked",null),e.checked=s}}};e.__on_r=t,je(t),We()}}function _a(e,a){var t=pe(e);t.value===(t.value=a??void 0)||e.value===a&&(a!==0||e.nodeName!=="PROGRESS")||(e.value=a??"")}function Z(e,a){a?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function Te(e,a,t,o){var s=pe(e);M&&(s[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||s[a]!==(s[a]=t)&&(a==="loading"&&(e[aa]=t),e.removeAttribute(a))}function pe(e){return e.__attributes??(e.__attributes={[fa]:e.nodeName.includes("-"),[da]:e.namespaceURI===ea})}function $(e,a,t=a){var o=ta();Me(e,"input",s=>{var l=s?e.defaultValue:e.value;if(l=j(e)?ee(l):l,t(l),o&&l!==(l=a())){var v=e.selectionStart,u=e.selectionEnd;e.value=l??"",u!==null&&(e.selectionStart=v,e.selectionEnd=Math.min(u,e.value.length))}}),(M&&e.defaultValue!==e.value||De(a)==null&&e.value)&&t(j(e)?ee(e.value):e.value),Ee(()=>{var s=a();j(e)&&s===ee(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function ha(e,a,t=a){Me(e,"change",o=>{var s=o?e.defaultChecked:e.checked;t(s)}),(M&&e.defaultChecked!==e.checked||De(a)==null)&&t(e.checked),Ee(()=>{var o=a();e.checked=!!o})}function j(e){var a=e.type;return a==="number"||a==="range"}function ee(e){return e===""?null:+e}var ga=V('<tr class="svelte-17q09gs"><td class="time svelte-17q09gs"> </td><td class="home team svelte-17q09gs"> </td><td class="home score svelte-17q09gs"> </td><td class="score separator svelte-17q09gs">-</td><td class="away score svelte-17q09gs"> </td><td class="away team svelte-17q09gs"> </td><td class="icon svelte-17q09gs"> </td></tr>'),ma=V('<tbody><tr class="svelte-17q09gs"><td class="date svelte-17q09gs" colspan="7"> </td></tr><!></tbody>'),ba=V('<table class="table svelte-17q09gs"></table>');function wa(e,a){se(a,!0);let t=ne(()=>{const l=new Map;return a.matches.forEach(v=>{const u=o(v.Date),m=l.get(u);m?m.push(v):l.set(u,[v])}),l});function o(l=new Date){if(typeof l=="string"){let g=l;return`${g.slice(8,10)}-${g.slice(5,7)}-${g.slice(0,4)}`}const v=String(l.getDate()).padStart(2,"0"),u=String(l.getMonth()+1).padStart(2,"0"),m=l.getFullYear();return`${v}-${u}-${m}`}var s=ba();we(s,21,()=>_(t).keys(),be,(l,v)=>{var u=ma(),m=k(u),g=k(m),b=k(g,!0);S(g),S(m);var E=A(m);we(E,17,()=>_(t).get(_(v)),be,(f,h)=>{var n=ga(),y=k(n),T=k(y,!0);S(y);var w=A(y),i=k(w,!0);S(w);var r=A(w),c=k(r,!0);S(r);var d=A(r,2),p=k(d,!0);S(d);var W=A(d),D=k(W,!0);S(W);var P=A(W),x=k(P,!0);S(P),S(n),J(H=>{var F,z;N(T,_(h).Time),N(i,_(h).HomeTeam),N(c,(F=_(h).Score)==null?void 0:F.HomeTeam),N(p,(z=_(h).Score)==null?void 0:z.AwayTeam),N(D,_(h).AwayTeam),N(x,H)},[()=>a.iconFunc(_(h))]),G(f,n)}),S(u),J(()=>N(b,_(v))),G(l,u)}),S(s),J(()=>va(s,`--row-bgColor: ${a.bgColor??""};--row-color: ${a.color??""};`)),G(e,s),le()}function ya(e,a){let t=e.currentTarget.value;a(t),C.url.searchParams.set("hmawfltr",t),O(`?${C.url.searchParams}`)}function Ta(e,a,t){let o=e.currentTarget.value;o===""?(a(null),t(!1),C.url.searchParams.delete("isWholeWeek"),C.url.searchParams.delete("date")):(a(new Date(o)),C.url.searchParams.set("date",`${o}`)),O(`?${C.url.searchParams}`)}function Aa(e){let a=e.currentTarget.checked;C.url.searchParams.set("isWholeWeek",`${a}`),O(`?${C.url.searchParams}`)}function Sa(e,a){O(`${a()}?${C.url.searchParams}`)}function ka(){C.url.searchParams.set("hidemenu","true");const e=C.url.toString();navigator.clipboard.writeText(e)}var Ca=(e,a)=>a(e.currentTarget.value),Da=(e,a)=>a(e.currentTarget.value),Ea=V('<div class="container svelte-bnw3ri"><div class="svelte-bnw3ri">Starts with: <input type="text" class="svelte-bnw3ri"/></div> <div class="colors svelte-bnw3ri">Row color: <input type="color" class="svelte-bnw3ri"/> Text color: <input type="color" class="svelte-bnw3ri"/></div> <div class="homeaway-container svelte-bnw3ri">Home/Away: <select class="svelte-bnw3ri"><option>Both</option><option>Home</option><option>Away</option></select></div> <div class="date svelte-bnw3ri"><label for="dateInput">Date</label> <input type="date" id="dateInput" class="svelte-bnw3ri"/> <input type="checkbox" id="isWholeWeekCheckbox" class="svelte-bnw3ri"/> <label for="isWholeWeekCheckbox">Use whole week</label></div> <button class="svelte-bnw3ri">Get viewing link</button></div>');function Wa(e,a){se(a,!0);let t=R(a,"bgColor",15),o=R(a,"color",15),s=R(a,"homeAwayFilter",15),l=R(a,"searchString",15),v=R(a,"isWholeWeek",15),u=R(a,"date",15),m=ne(()=>{if(u()==null)return null;let x=H=>H.toString().padStart(2,"0");return`${u().getFullYear()}-${x(u().getMonth()+1)}-${x(u().getDate())}`});function g(x){C.url.searchParams.set("bgclr",x),O(`?${C.url.searchParams}`)}function b(x){C.url.searchParams.set("clr",x),O(`?${C.url.searchParams}`)}var E=Ea(),f=k(E),h=A(k(f));B(h),h.__change=[Sa,l],S(f);var n=A(f,2),y=A(k(n));B(y),y.__change=[Ca,g];var T=A(y,2);B(T),T.__change=[Da,b],S(n);var w=A(n,2),i=A(k(w));i.__change=[ya,s];var r=k(i);r.value=r.__value="both";var c=A(r);c.value=c.__value="home";var d=A(c);d.value=d.__value="away",S(i),S(w);var p=A(w,2),W=A(k(p),2);B(W),W.__change=[Ta,u,v];var D=A(W,2);B(D),D.__change=[Aa],ra(2),S(p);var P=A(p,2);P.__pointerdown=[ka],S(E),J(()=>{Z(r,s()=="both"),Z(c,s()=="home"),Z(d,s()=="away"),_a(W,_(m)),D.disabled=u()==null}),$(h,l),$(y,t),$(T,o),ha(D,v),G(e,E),le()}la(["change","pointerdown"]);var Ma=V('<div class="container svelte-572vhb"><!> <!></div>');function Fa(e,a){se(a,!0);let{matches:t,search:o}=a.data,s=L(U(a.data.bgColor)),l=L(U(a.data.color)),v=L(U(a.data.homeAwayFilter)),u=L(`${o}`),m=L(U(a.data.isWholeWeek)),g=L(U(a.data.date)),b=ne(E);function E(){let i=t.slice();if(_(m)){let r=_(g)??new Date;const c=new Date(r.setDate(r.getUTCDate()-r.getUTCDay()+1)),d=new Date(c);d.setDate(d.getUTCDate()+8),i=i.filter(p=>p.Date>=c&&p.Date<=d)}else _(g)!=null&&typeof _(g)!="string"&&(console.log(typeof _(g),_(g)),i=i.filter(r=>h(r.Date,_(g))));return _(v)=="home"?i.filter(r=>r.HomeTeam.startsWith(`${_(u)}`)):_(v)=="away"?i.filter(r=>r.AwayTeam.startsWith(`${_(u)}`)):i.filter(r=>r.HomeTeam.startsWith(`${_(u)}`)||r.AwayTeam.startsWith(`${_(u)}`))}function f(i){if(i.Score==null)return"";const r=i.HomeTeam.startsWith(`${_(u)}`);return r&&i.Score.HomeTeam>i.Score.AwayTeam||!r&&i.Score.HomeTeam<i.Score.AwayTeam?"✅":!r&&i.Score.HomeTeam>i.Score.AwayTeam||r&&i.Score.HomeTeam<i.Score.AwayTeam?"❌":"="}function h(i,r){return i.getFullYear()===r.getFullYear()&&i.getMonth()===r.getMonth()&&i.getDate()===r.getDate()}var n=Ma(),y=k(n);{var T=i=>{Wa(i,{get bgColor(){return _(s)},set bgColor(r){q(s,r,!0)},get color(){return _(l)},set color(r){q(l,r,!0)},get homeAwayFilter(){return _(v)},set homeAwayFilter(r){q(v,r,!0)},get searchString(){return _(u)},set searchString(r){q(u,r,!0)},get isWholeWeek(){return _(m)},set isWholeWeek(r){q(m,r,!0)},get date(){return _(g)},set date(r){q(g,r,!0)}})};sa(y,i=>{C.url.searchParams.get("hidemenu")!=="true"&&i(T)})}var w=A(y,2);wa(w,{get matches(){return _(b)},get color(){return _(l)},get bgColor(){return _(s)},iconFunc:f}),S(n),G(e,n),le()}export{Fa as component};
