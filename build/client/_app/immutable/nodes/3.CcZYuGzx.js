import"../chunks/CWj6FrbW.js";import{a4 as fe,a5 as de,a7 as He,a8 as ae,aj as Ie,d as Pe,K,h as p,o as Ne,g as Fe,w as v,R as Le,G as qe,I as Re,J as _e,L as X,m as B,aa as Oe,ad as Ye,M as Ae,k as Se,N as Ue,ay as Q,ah as ke,az as he,X as Be,aA as ge,aB as te,aC as Ge,ag as Ve,aD as ze,l as Je,aE as re,aF as Ke,ab as Xe,a6 as Qe,aG as Ce,au as Ze,aH as je,aI as $e,aJ as ea,aK as aa,aL as ta,s as De,at as Ee,z as se,b as U,A as z,a as O,B as le,aw as ne,D as k,C as E,F as A,aM as ra,av as L,V as G,f as sa,W as q}from"../chunks/DH7zvddy.js";import{s as I,d as la}from"../chunks/BOIzqSA3.js";import{p as R,i as na}from"../chunks/qvmD8DIL.js";import{p as M}from"../chunks/CKxup0JH.js";import{g as Y}from"../chunks/BunGzXie.js";let me=!1;function Me(){me||(me=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var a;if(!e.defaultPrevented)for(const t of e.target.elements)(a=t.__on_r)==null||a.call(t)})},{capture:!0}))}function oa(e){var a=He,t=ae;fe(null),de(null);try{return e()}finally{fe(a),de(t)}}function xe(e,a,t,o=t){e.addEventListener(a,()=>oa(t));const l=e.__on_r;l?e.__on_r=()=>{l(),o(!0)}:e.__on_r=()=>o(!0),Me()}function be(e,a){return a}function ia(e,a,t,o){for(var l=[],n=a.length,c=0;c<n;c++)Ge(a[c].e,l,!0);var f=n>0&&l.length===0&&t!==null;if(f){var h=t.parentNode;Ve(h),h.append(t),o.clear(),P(e,a[0].prev,a[n-1].next)}ze(l,()=>{for(var m=0;m<n;m++){var b=a[m];f||(o.delete(b.k),P(e,b.prev,b.next)),Je(b.e,!f)}})}function we(e,a,t,o,l,n=null){var c=e,f={flags:a,items:new Map,first:null},h=(a&Ce)!==0;if(h){var m=e;c=p?K(Ne(m)):m.appendChild(Ie())}p&&Fe();var b=null,S=!1,d=Le(()=>{var _=t();return Qe(_)?_:_==null?[]:ke(_)});Pe(()=>{var _=v(d),i=_.length;if(S&&i===0)return;S=i===0;let T=!1;if(p){var w=qe(c)===Re;w!==(i===0)&&(c=_e(),K(c),X(!1),T=!0)}if(p){for(var y=null,C,s=0;s<i;s++){if(B.nodeType===Oe&&B.data===Ye){c=B,T=!0,X(!1);break}var r=_[s],u=o(r,s);C=pe(B,f,y,null,r,u,s,l,a,t),f.items.set(u,C),y=C}i>0&&K(_e())}p||ua(_,f,c,l,a,o,t),n!==null&&(i===0?b?Ae(b):b=Se(()=>n(c)):b!==null&&Ue(b,()=>{b=null})),T&&X(!0),v(d)}),p&&(c=B)}function ua(e,a,t,o,l,n,c){var oe,ie,ue,ce;var f=(l&je)!==0,h=(l&(re|te))!==0,m=e.length,b=a.items,S=a.first,d=S,_,i=null,T,w=[],y=[],C,s,r,u;if(f)for(u=0;u<m;u+=1)C=e[u],s=n(C,u),r=b.get(s),r!==void 0&&((oe=r.a)==null||oe.measure(),(T??(T=new Set)).add(r));for(u=0;u<m;u+=1){if(C=e[u],s=n(C,u),r=b.get(s),r===void 0){var x=d?d.e.nodes_start:t;i=pe(x,a,i,i===null?a.first:i.next,C,s,u,o,l,c),b.set(s,i),w=[],y=[],d=i.next;continue}if(h&&ca(r,C,u,l),(r.e.f&Q)!==0&&(Ae(r.e),f&&((ie=r.a)==null||ie.unfix(),(T??(T=new Set)).delete(r))),r!==d){if(_!==void 0&&_.has(r)){if(w.length<y.length){var D=y[0],g;i=D.prev;var N=w[0],W=w[w.length-1];for(g=0;g<w.length;g+=1)ye(w[g],D,t);for(g=0;g<y.length;g+=1)_.delete(y[g]);P(a,N.prev,W.next),P(a,i,N),P(a,W,D),d=D,i=W,u-=1,w=[],y=[]}else _.delete(r),ye(r,d,t),P(a,r.prev,r.next),P(a,r,i===null?a.first:i.next),P(a,i,r),i=r;continue}for(w=[],y=[];d!==null&&d.k!==s;)(d.e.f&Q)===0&&(_??(_=new Set)).add(d),y.push(d),d=d.next;if(d===null)continue;r=d}w.push(r),i=r,d=r.next}if(d!==null||_!==void 0){for(var H=_===void 0?[]:ke(_);d!==null;)(d.e.f&Q)===0&&H.push(d),d=d.next;var F=H.length;if(F>0){var J=(l&Ce)!==0&&m===0?t:null;if(f){for(u=0;u<F;u+=1)(ue=H[u].a)==null||ue.measure();for(u=0;u<F;u+=1)(ce=H[u].a)==null||ce.fix()}ia(a,H,J,b)}}f&&Ze(()=>{var ve;if(T!==void 0)for(r of T)(ve=r.a)==null||ve.apply()}),ae.first=a.first&&a.first.e,ae.last=i&&i.e}function ca(e,a,t,o){(o&re)!==0&&he(e.v,a),(o&te)!==0?he(e.i,t):e.i=t}function pe(e,a,t,o,l,n,c,f,h,m){var b=(h&re)!==0,S=(h&Ke)===0,d=b?S?Be(l,!1,!1):ge(l):l,_=(h&te)===0?c:ge(c),i={i:_,v:d,k:n,a:null,e:null,prev:t,next:o};try{return i.e=Se(()=>f(e,d,_,m),p),i.e.prev=t&&t.e,i.e.next=o&&o.e,t===null?a.first=i:(t.next=i,t.e.next=i.e),o!==null&&(o.prev=i,o.e.prev=i.e),i}finally{}}function ye(e,a,t){for(var o=e.next?e.next.e.nodes_start:t,l=a?a.e.nodes_start:t,n=e.e.nodes_start;n!==o;){var c=Xe(n);l.before(n),n=c}}function P(e,a,t){a===null?e.first=t:(a.next=t,a.e.next=t&&t.e),t!==null&&(t.prev=a,t.e.prev=a&&a.e)}function va(e,a){return e==null?null:String(e)}function fa(e,a,t,o){var l=e.__style;if(p||l!==a){var n=va(a);(!p||n!==e.getAttribute("style"))&&(n==null?e.removeAttribute("style"):e.style.cssText=n),e.__style=a}return o}const da=Symbol("is custom element"),_a=Symbol("is html");function V(e){if(p){var a=!1,t=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var o=e.value;Te(e,"value",null),e.value=o}if(e.hasAttribute("checked")){var l=e.checked;Te(e,"checked",null),e.checked=l}}};e.__on_r=t,$e(t),Me()}}function ha(e,a){var t=We(e);t.value===(t.value=a??void 0)||e.value===a&&(a!==0||e.nodeName!=="PROGRESS")||(e.value=a??"")}function Z(e,a){a?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function Te(e,a,t,o){var l=We(e);p&&(l[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||l[a]!==(l[a]=t)&&(a==="loading"&&(e[aa]=t),e.removeAttribute(a))}function We(e){return e.__attributes??(e.__attributes={[da]:e.nodeName.includes("-"),[_a]:e.namespaceURI===ea})}function j(e,a,t=a){var o=ta();xe(e,"input",l=>{var n=l?e.defaultValue:e.value;if(n=$(e)?ee(n):n,t(n),o&&n!==(n=a())){var c=e.selectionStart,f=e.selectionEnd;e.value=n??"",f!==null&&(e.selectionStart=c,e.selectionEnd=Math.min(f,e.value.length))}}),(p&&e.defaultValue!==e.value||De(a)==null&&e.value)&&t($(e)?ee(e.value):e.value),Ee(()=>{var l=a();$(e)&&l===ee(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function ga(e,a,t=a){xe(e,"change",o=>{var l=o?e.defaultChecked:e.checked;t(l)}),(p&&e.defaultChecked!==e.checked||De(a)==null)&&t(e.checked),Ee(()=>{var o=a();e.checked=!!o})}function $(e){var a=e.type;return a==="number"||a==="range"}function ee(e){return e===""?null:+e}var ma=U('<tr class="svelte-17q09gs"><td class="time svelte-17q09gs"> </td><td class="home team svelte-17q09gs"> </td><td class="home score svelte-17q09gs"> </td><td class="score separator svelte-17q09gs">-</td><td class="away score svelte-17q09gs"> </td><td class="away team svelte-17q09gs"> </td><td class="icon svelte-17q09gs"> </td></tr>'),ba=U('<tbody><tr class="svelte-17q09gs"><td class="date svelte-17q09gs" colspan="7"> </td></tr><!></tbody>'),wa=U('<table class="table svelte-17q09gs"></table>');function ya(e,a){se(a,!0);let t=ne(()=>{const n=new Map;return a.matches.forEach(c=>{const f=o(c.Date),h=n.get(f);h?h.push(c):n.set(f,[c])}),n});function o(n=new Date){if(typeof n=="string"){let m=n;return`${m.slice(8,10)}-${m.slice(5,7)}-${m.slice(0,4)}`}const c=String(n.getDate()).padStart(2,"0"),f=String(n.getMonth()+1).padStart(2,"0"),h=n.getFullYear();return`${c}-${f}-${h}`}var l=wa();we(l,21,()=>v(t).keys(),be,(n,c)=>{var f=ba(),h=E(f),m=E(h),b=E(m,!0);k(m),k(h);var S=A(h);we(S,17,()=>v(t).get(v(c)),be,(d,_)=>{var i=ma(),T=E(i),w=E(T,!0);k(T);var y=A(T),C=E(y,!0);k(y);var s=A(y),r=E(s,!0);k(s);var u=A(s,2),x=E(u,!0);k(u);var D=A(u),g=E(D,!0);k(D);var N=A(D),W=E(N,!0);k(N),k(i),z(H=>{var F,J;I(w,v(_).Time),I(C,v(_).HomeTeam),I(r,(F=v(_).Score)==null?void 0:F.HomeTeam),I(x,(J=v(_).Score)==null?void 0:J.AwayTeam),I(g,v(_).AwayTeam),I(W,H)},[()=>a.iconFunc(v(_))]),O(d,i)}),k(f),z(()=>I(b,v(c))),O(n,f)}),k(l),z(()=>fa(l,`--row-bgColor: ${a.bgColor??""};--row-color: ${a.color??""};`)),O(e,l),le()}function Ta(e){let a=e.currentTarget.value;M.url.searchParams.set("search",a),Y(`?${M.url.searchParams}`)}function Aa(e,a){let t=e.currentTarget.value;a(t),M.url.searchParams.set("hmawfltr",t),Y(`?${M.url.searchParams}`)}function Sa(e,a,t){let o=e.currentTarget.value;o===""?(a(null),t(!1),M.url.searchParams.delete("isWholeWeek"),M.url.searchParams.delete("date")):(a(new Date(o)),M.url.searchParams.set("date",`${o}`)),Y(`?${M.url.searchParams}`)}function ka(e){let a=e.currentTarget.checked;M.url.searchParams.set("isWholeWeek",`${a}`),Y(`?${M.url.searchParams}`)}function Ca(){M.url.searchParams.set("hidemenu","true");const e=M.url.toString();navigator.clipboard.writeText(e)}var Da=(e,a)=>a(e.currentTarget.value),Ea=(e,a)=>a(e.currentTarget.value),Ma=U('<div class="container svelte-bnw3ri"><div class="svelte-bnw3ri">Starts with: <input type="text" class="svelte-bnw3ri"/></div> <div class="homeaway-container svelte-bnw3ri">Home/Away: <select class="svelte-bnw3ri"><option>Both</option><option>Home</option><option>Away</option></select></div> <div class="date svelte-bnw3ri"><label for="dateInput">Date</label> <input type="date" id="dateInput" class="svelte-bnw3ri"/> <input type="checkbox" id="isWholeWeekCheckbox" class="svelte-bnw3ri"/> <label for="isWholeWeekCheckbox">Use whole week</label></div> <div class="colors svelte-bnw3ri">Row color: <input type="color" class="svelte-bnw3ri"/> Text color: <input type="color" class="svelte-bnw3ri"/></div> <button class="svelte-bnw3ri">Get viewing link</button></div>');function xa(e,a){se(a,!0);let t=R(a,"bgColor",15),o=R(a,"color",15),l=R(a,"homeAwayFilter",15),n=R(a,"searchString",15),c=R(a,"isWholeWeek",15),f=R(a,"date",15),h=ne(()=>{if(f()==null)return null;let W=H=>H.toString().padStart(2,"0");return`${f().getFullYear()}-${W(f().getMonth()+1)}-${W(f().getDate())}`});function m(W){M.url.searchParams.set("bgclr",W),Y(`?${M.url.searchParams}`)}function b(W){M.url.searchParams.set("clr",W),Y(`?${M.url.searchParams}`)}var S=Ma(),d=E(S),_=A(E(d));V(_),_.__change=[Ta],k(d);var i=A(d,2),T=A(E(i));T.__change=[Aa,l];var w=E(T);w.value=w.__value="both";var y=A(w);y.value=y.__value="home";var C=A(y);C.value=C.__value="away",k(T),k(i);var s=A(i,2),r=A(E(s),2);V(r),r.__change=[Sa,f,c];var u=A(r,2);V(u),u.__change=[ka],ra(2),k(s);var x=A(s,2),D=A(E(x));V(D),D.__change=[Da,m];var g=A(D,2);V(g),g.__change=[Ea,b],k(x);var N=A(x,2);N.__pointerdown=[Ca],k(S),z(()=>{Z(w,l()=="both"),Z(y,l()=="home"),Z(C,l()=="away"),ha(r,v(h)),u.disabled=f()==null}),j(_,n),ga(u,c),j(D,t),j(g,o),O(e,S),le()}la(["change","pointerdown"]);var pa=U("<!> <div> </div>",1),Wa=U('<div class="container svelte-572vhb"><!> <!></div>');function qa(e,a){se(a,!0);let{matches:t}=a.data,o=L(G(a.data.bgColor)),l=L(G(a.data.color)),n=L(G(a.data.homeAwayFilter)),c=L(`${a.data.search}`),f=L(G(a.data.isWholeWeek)),h=L(G(a.data.date)),m=ne(b);function b(){let s=t.slice();if(v(f)){let r=v(h)??new Date;const u=new Date(r.setDate(r.getUTCDate()-r.getUTCDay()+1)),x=new Date(u);x.setDate(x.getUTCDate()+8),s=s.filter(D=>D.Date>=u&&D.Date<=x)}else v(h)!=null&&typeof v(h)!="string"&&(console.log(typeof v(h),v(h)),s=s.filter(r=>i(r.Date,v(h))));return v(n)=="home"?s.filter(r=>S(r.HomeTeam,v(c))):v(n)=="away"?s.filter(r=>S(r.AwayTeam,v(c))):s.filter(d)}function S(s,r){return s.toUpperCase().startsWith(r.toUpperCase())}function d(s){return S(s.HomeTeam,v(c))||S(s.AwayTeam,v(c))}function _(s){if(s.Score==null)return"";const r=S(s.HomeTeam,v(c)),u=S(s.AwayTeam,v(c));return r==u?"?":r&&s.Score.HomeTeam>s.Score.AwayTeam?"✅":r&&s.Score.HomeTeam<s.Score.AwayTeam?"❌":u&&s.Score.HomeTeam<s.Score.AwayTeam?"✅":u&&s.Score.HomeTeam>s.Score.AwayTeam?"❌":"="}function i(s,r){return s.getFullYear()===r.getFullYear()&&s.getMonth()===r.getMonth()&&s.getDate()===r.getDate()}var T=Wa(),w=E(T);{var y=s=>{var r=pa(),u=sa(r);xa(u,{get bgColor(){return v(o)},set bgColor(g){q(o,g,!0)},get color(){return v(l)},set color(g){q(l,g,!0)},get homeAwayFilter(){return v(n)},set homeAwayFilter(g){q(n,g,!0)},get searchString(){return v(c)},set searchString(g){q(c,g,!0)},get isWholeWeek(){return v(f)},set isWholeWeek(g){q(f,g,!0)},get date(){return v(h)},set date(g){q(h,g,!0)}});var x=A(u,2),D=E(x);k(x),z(()=>I(D,`${v(m).length??""} matches`)),O(s,r)};na(w,s=>{M.url.searchParams.get("hidemenu")!=="true"&&s(y)})}var C=A(w,2);ya(C,{get matches(){return v(m)},get color(){return v(l)},get bgColor(){return v(o)},iconFunc:_}),k(T),O(e,T),le()}export{qa as component};
