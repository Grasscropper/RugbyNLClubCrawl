import"../chunks/CWj6FrbW.js";import{a5 as fe,a6 as de,a8 as He,a9 as ae,ak as Ie,d as Pe,L as X,h as x,p as Ne,g as Fe,x as _,S as Le,H as qe,J as Oe,K as _e,M as z,o as Y,ab as Re,ae as Ye,N as Se,k as ke,O as Ue,az as Q,ai as Ae,aA as he,Y as Be,aB as ge,aC as te,aD as Ge,ah as Ve,aE as Je,m as Ke,aF as re,aG as Xe,ac as ze,a7 as Qe,aH as Ce,av as Ze,aI as $e,aJ as je,aK as ea,aL as aa,aM as ta,v as De,au as Ee,A as se,b as V,B as K,a as G,C as le,ax as ne,F as k,D as A,G as S,n as ra,aw as L,W as U,X as q}from"../chunks/C9ZhiaAV.js";import{p as O,i as sa}from"../chunks/BJ4INOJk.js";import{p as C}from"../chunks/BZ5qgxTg.js";import{s as N,d as la}from"../chunks/DZQqVVzz.js";import{g as R}from"../chunks/BT3oqmVj.js";let me=!1;function We(){me||(me=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var a;if(!e.defaultPrevented)for(const t of e.target.elements)(a=t.__on_r)==null||a.call(t)})},{capture:!0}))}function na(e){var a=He,t=ae;fe(null),de(null);try{return e()}finally{fe(a),de(t)}}function xe(e,a,t,o=t){e.addEventListener(a,()=>na(t));const s=e.__on_r;s?e.__on_r=()=>{s(),o(!0)}:e.__on_r=()=>o(!0),We()}function be(e,a){return a}function oa(e,a,t,o){for(var s=[],l=a.length,v=0;v<l;v++)Ge(a[v].e,s,!0);var u=l>0&&s.length===0&&t!==null;if(u){var m=t.parentNode;Ve(m),m.append(t),o.clear(),I(e,a[0].prev,a[l-1].next)}Je(s,()=>{for(var g=0;g<l;g++){var b=a[g];u||(o.delete(b.k),I(e,b.prev,b.next)),Ke(b.e,!u)}})}function we(e,a,t,o,s,l=null){var v=e,u={flags:a,items:new Map,first:null},m=(a&Ce)!==0;if(m){var g=e;v=x?X(Ne(g)):g.appendChild(Ie())}x&&Fe();var b=null,E=!1,f=Le(()=>{var h=t();return Qe(h)?h:h==null?[]:Ae(h)});Pe(()=>{var h=_(f),n=h.length;if(E&&n===0)return;E=n===0;let y=!1;if(x){var T=qe(v)===Oe;T!==(n===0)&&(v=_e(),X(v),z(!1),y=!0)}if(x){for(var w=null,i,r=0;r<n;r++){if(Y.nodeType===Re&&Y.data===Ye){v=Y,y=!0,z(!1);break}var c=h[r],d=o(c,r);i=Me(Y,u,w,null,c,d,r,s,a,t),u.items.set(d,i),w=i}n>0&&X(_e())}x||ia(h,u,v,s,a,o,t),l!==null&&(n===0?b?Se(b):b=ke(()=>l(v)):b!==null&&Ue(b,()=>{b=null})),y&&z(!0),_(f)}),x&&(v=Y)}function ia(e,a,t,o,s,l,v){var oe,ie,ue,ce;var u=(s&$e)!==0,m=(s&(re|te))!==0,g=e.length,b=a.items,E=a.first,f=E,h,n=null,y,T=[],w=[],i,r,c,d;if(u)for(d=0;d<g;d+=1)i=e[d],r=l(i,d),c=b.get(r),c!==void 0&&((oe=c.a)==null||oe.measure(),(y??(y=new Set)).add(c));for(d=0;d<g;d+=1){if(i=e[d],r=l(i,d),c=b.get(r),c===void 0){var p=f?f.e.nodes_start:t;n=Me(p,a,n,n===null?a.first:n.next,i,r,d,o,s,v),b.set(r,n),T=[],w=[],f=n.next;continue}if(m&&ua(c,i,d,s),(c.e.f&Q)!==0&&(Se(c.e),u&&((ie=c.a)==null||ie.unfix(),(y??(y=new Set)).delete(c))),c!==f){if(h!==void 0&&h.has(c)){if(T.length<w.length){var W=w[0],D;n=W.prev;var P=T[0],M=T[T.length-1];for(D=0;D<T.length;D+=1)ye(T[D],W,t);for(D=0;D<w.length;D+=1)h.delete(w[D]);I(a,P.prev,M.next),I(a,n,P),I(a,M,W),f=W,n=M,d-=1,T=[],w=[]}else h.delete(c),ye(c,f,t),I(a,c.prev,c.next),I(a,c,n===null?a.first:n.next),I(a,n,c),n=c;continue}for(T=[],w=[];f!==null&&f.k!==r;)(f.e.f&Q)===0&&(h??(h=new Set)).add(f),w.push(f),f=f.next;if(f===null)continue;c=f}T.push(c),n=c,f=c.next}if(f!==null||h!==void 0){for(var H=h===void 0?[]:Ae(h);f!==null;)(f.e.f&Q)===0&&H.push(f),f=f.next;var F=H.length;if(F>0){var J=(s&Ce)!==0&&g===0?t:null;if(u){for(d=0;d<F;d+=1)(ue=H[d].a)==null||ue.measure();for(d=0;d<F;d+=1)(ce=H[d].a)==null||ce.fix()}oa(a,H,J,b)}}u&&Ze(()=>{var ve;if(y!==void 0)for(c of y)(ve=c.a)==null||ve.apply()}),ae.first=a.first&&a.first.e,ae.last=n&&n.e}function ua(e,a,t,o){(o&re)!==0&&he(e.v,a),(o&te)!==0?he(e.i,t):e.i=t}function Me(e,a,t,o,s,l,v,u,m,g){var b=(m&re)!==0,E=(m&Xe)===0,f=b?E?Be(s,!1,!1):ge(s):s,h=(m&te)===0?v:ge(v),n={i:h,v:f,k:l,a:null,e:null,prev:t,next:o};try{return n.e=ke(()=>u(e,f,h,g),x),n.e.prev=t&&t.e,n.e.next=o&&o.e,t===null?a.first=n:(t.next=n,t.e.next=n.e),o!==null&&(o.prev=n,o.e.prev=n.e),n}finally{}}function ye(e,a,t){for(var o=e.next?e.next.e.nodes_start:t,s=a?a.e.nodes_start:t,l=e.e.nodes_start;l!==o;){var v=ze(l);s.before(l),l=v}}function I(e,a,t){a===null?e.first=t:(a.next=t,a.e.next=t&&t.e),t!==null&&(t.prev=a,t.e.prev=a&&a.e)}function ca(e,a){return e==null?null:String(e)}function va(e,a,t,o){var s=e.__style;if(x||s!==a){var l=ca(a);(!x||l!==e.getAttribute("style"))&&(l==null?e.removeAttribute("style"):e.style.cssText=l),e.__style=a}return o}const fa=Symbol("is custom element"),da=Symbol("is html");function B(e){if(x){var a=!1,t=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var o=e.value;Te(e,"value",null),e.value=o}if(e.hasAttribute("checked")){var s=e.checked;Te(e,"checked",null),e.checked=s}}};e.__on_r=t,je(t),We()}}function _a(e,a){var t=pe(e);t.value===(t.value=a??void 0)||e.value===a&&(a!==0||e.nodeName!=="PROGRESS")||(e.value=a??"")}function Z(e,a){a?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function Te(e,a,t,o){var s=pe(e);x&&(s[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||s[a]!==(s[a]=t)&&(a==="loading"&&(e[aa]=t),e.removeAttribute(a))}function pe(e){return e.__attributes??(e.__attributes={[fa]:e.nodeName.includes("-"),[da]:e.namespaceURI===ea})}function $(e,a,t=a){var o=ta();xe(e,"input",s=>{var l=s?e.defaultValue:e.value;if(l=j(e)?ee(l):l,t(l),o&&l!==(l=a())){var v=e.selectionStart,u=e.selectionEnd;e.value=l??"",u!==null&&(e.selectionStart=v,e.selectionEnd=Math.min(u,e.value.length))}}),(x&&e.defaultValue!==e.value||De(a)==null&&e.value)&&t(j(e)?ee(e.value):e.value),Ee(()=>{var s=a();j(e)&&s===ee(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function ha(e,a,t=a){xe(e,"change",o=>{var s=o?e.defaultChecked:e.checked;t(s)}),(x&&e.defaultChecked!==e.checked||De(a)==null)&&t(e.checked),Ee(()=>{var o=a();e.checked=!!o})}function j(e){var a=e.type;return a==="number"||a==="range"}function ee(e){return e===""?null:+e}var ga=V('<tr class="svelte-17q09gs"><td class="time svelte-17q09gs"> </td><td class="home team svelte-17q09gs"> </td><td class="home score svelte-17q09gs"> </td><td class="score separator svelte-17q09gs">-</td><td class="away score svelte-17q09gs"> </td><td class="away team svelte-17q09gs"> </td><td class="icon svelte-17q09gs"> </td></tr>'),ma=V('<tbody><tr class="svelte-17q09gs"><td class="date svelte-17q09gs" colspan="7"> </td></tr><!></tbody>'),ba=V('<table class="table svelte-17q09gs"></table>');function wa(e,a){se(a,!0);let t=ne(()=>{const l=new Map;return a.matches.forEach(v=>{const u=o(v.Date),m=l.get(u);m?m.push(v):l.set(u,[v])}),l});function o(l=new Date){if(typeof l=="string"){let g=l;return`${g.slice(8,10)}-${g.slice(5,7)}-${g.slice(0,4)}`}const v=String(l.getDate()).padStart(2,"0"),u=String(l.getMonth()+1).padStart(2,"0"),m=l.getFullYear();return`${v}-${u}-${m}`}var s=ba();we(s,21,()=>_(t).keys(),be,(l,v)=>{var u=ma(),m=A(u),g=A(m),b=A(g,!0);k(g),k(m);var E=S(m);we(E,17,()=>_(t).get(_(v)),be,(f,h)=>{var n=ga(),y=A(n),T=A(y,!0);k(y);var w=S(y),i=A(w,!0);k(w);var r=S(w),c=A(r,!0);k(r);var d=S(r,2),p=A(d,!0);k(d);var W=S(d),D=A(W,!0);k(W);var P=S(W),M=A(P,!0);k(P),k(n),K(H=>{var F,J;N(T,_(h).Time),N(i,_(h).HomeTeam),N(c,(F=_(h).Score)==null?void 0:F.HomeTeam),N(p,(J=_(h).Score)==null?void 0:J.AwayTeam),N(D,_(h).AwayTeam),N(M,H)},[()=>a.iconFunc(_(h))]),G(f,n)}),k(u),K(()=>N(b,_(v))),G(l,u)}),k(s),K(()=>va(s,`--row-bgColor: ${a.bgColor??""};--row-color: ${a.color??""};`)),G(e,s),le()}function ya(e,a){let t=e.currentTarget.value;a(t),C.url.searchParams.set("hmawfltr",t),R(`?${C.url.searchParams}`)}function Ta(e,a,t){let o=e.currentTarget.value;o===""?(a(null),t(!1),C.url.searchParams.delete("isWholeWeek"),C.url.searchParams.delete("date")):(a(new Date(o)),C.url.searchParams.set("date",`${o}`)),R(`?${C.url.searchParams}`)}function Sa(e){let a=e.currentTarget.checked;C.url.searchParams.set("isWholeWeek",`${a}`),R(`?${C.url.searchParams}`)}function ka(e,a){R(`${a()}?${C.url.searchParams}`)}function Aa(){C.url.searchParams.set("hidemenu","true");const e=C.url.toString();navigator.clipboard.writeText(e)}var Ca=(e,a)=>a(e.currentTarget.value),Da=(e,a)=>a(e.currentTarget.value),Ea=V('<div class="container svelte-bnw3ri"><div class="svelte-bnw3ri">Starts with: <input type="text" class="svelte-bnw3ri"/></div> <div class="colors svelte-bnw3ri">Row color: <input type="color" class="svelte-bnw3ri"/> Text color: <input type="color" class="svelte-bnw3ri"/></div> <div class="homeaway-container svelte-bnw3ri">Home/Away: <select class="svelte-bnw3ri"><option>Both</option><option>Home</option><option>Away</option></select></div> <div class="date svelte-bnw3ri"><label for="dateInput">Date</label> <input type="date" id="dateInput" class="svelte-bnw3ri"/> <input type="checkbox" id="isWholeWeekCheckbox" class="svelte-bnw3ri"/> <label for="isWholeWeekCheckbox">Use whole week</label></div> <button class="svelte-bnw3ri">Get viewing link</button></div>');function Wa(e,a){se(a,!0);let t=O(a,"bgColor",15),o=O(a,"color",15),s=O(a,"homeAwayFilter",15),l=O(a,"searchString",15),v=O(a,"isWholeWeek",15),u=O(a,"date",15),m=ne(()=>{if(u()==null)return null;let M=H=>H.toString().padStart(2,"0");return`${u().getFullYear()}-${M(u().getMonth()+1)}-${M(u().getDate())}`});function g(M){C.url.searchParams.set("bgclr",M),R(`?${C.url.searchParams}`)}function b(M){C.url.searchParams.set("clr",M),R(`?${C.url.searchParams}`)}var E=Ea(),f=A(E),h=S(A(f));B(h),h.__change=[ka,l],k(f);var n=S(f,2),y=S(A(n));B(y),y.__change=[Ca,g];var T=S(y,2);B(T),T.__change=[Da,b],k(n);var w=S(n,2),i=S(A(w));i.__change=[ya,s];var r=A(i);r.value=r.__value="both";var c=S(r);c.value=c.__value="home";var d=S(c);d.value=d.__value="away",k(i),k(w);var p=S(w,2),W=S(A(p),2);B(W),W.__change=[Ta,u,v];var D=S(W,2);B(D),D.__change=[Sa],ra(2),k(p);var P=S(p,2);P.__pointerdown=[Aa],k(E),K(()=>{Z(r,s()=="both"),Z(c,s()=="home"),Z(d,s()=="away"),_a(W,_(m)),D.disabled=u()==null}),$(h,l),$(y,t),$(T,o),ha(D,v),G(e,E),le()}la(["change","pointerdown"]);var xa=V('<div class="container svelte-572vhb"><!> <!></div>');function Fa(e,a){se(a,!0);let{matches:t,search:o}=a.data,s=L(U(a.data.bgColor)),l=L(U(a.data.color)),v=L(U(a.data.homeAwayFilter)),u=L(`${o}`),m=L(U(a.data.isWholeWeek)),g=L(U(a.data.date)),b=ne(E);function E(){let i=t.slice();if(_(m)){let r=_(g)??new Date;const c=new Date(r.setDate(r.getUTCDate()-r.getUTCDay()+1)),d=new Date(c);d.setDate(d.getUTCDate()+8),i=i.filter(p=>p.Date>=c&&p.Date<=d)}else _(g)!=null&&typeof _(g)!="string"&&(console.log(typeof _(g),_(g)),i=i.filter(r=>h(r.Date,_(g))));return _(v)=="home"?i.filter(r=>r.HomeTeam.startsWith(`${_(u)}`)):_(v)=="away"?i.filter(r=>r.AwayTeam.startsWith(`${_(u)}`)):i.filter(r=>r.HomeTeam.startsWith(`${_(u)}`)||r.AwayTeam.startsWith(`${_(u)}`))}function f(i){if(i.Score==null)return"";const r=i.HomeTeam.startsWith(`${_(u)}`);return r&&i.Score.HomeTeam>i.Score.AwayTeam||!r&&i.Score.HomeTeam<i.Score.AwayTeam?"✅":!r&&i.Score.HomeTeam>i.Score.AwayTeam||r&&i.Score.HomeTeam<i.Score.AwayTeam?"❌":"="}function h(i,r){return i.getFullYear()===r.getFullYear()&&i.getMonth()===r.getMonth()&&i.getDate()===r.getDate()}var n=xa(),y=A(n);{var T=i=>{Wa(i,{get bgColor(){return _(s)},set bgColor(r){q(s,r,!0)},get color(){return _(l)},set color(r){q(l,r,!0)},get homeAwayFilter(){return _(v)},set homeAwayFilter(r){q(v,r,!0)},get searchString(){return _(u)},set searchString(r){q(u,r,!0)},get isWholeWeek(){return _(m)},set isWholeWeek(r){q(m,r,!0)},get date(){return _(g)},set date(r){q(g,r,!0)}})};sa(y,i=>{C.url.searchParams.get("hidemenu")!=="true"&&i(T)})}var w=S(y,2);wa(w,{get matches(){return _(b)},get color(){return _(l)},get bgColor(){return _(s)},iconFunc:f}),k(n),G(e,n),le()}export{Fa as component};
