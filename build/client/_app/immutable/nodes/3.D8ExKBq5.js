import"../chunks/CWj6FrbW.js";import{a4 as fe,a5 as de,a7 as pe,a8 as ae,aj as Ie,d as Pe,K,h as x,o as Ne,g as Fe,w as d,R as Le,G as qe,I as Re,J as _e,L as X,m as B,aa as Oe,ad as Ye,M as Ae,k as ke,N as Ue,ay as Q,ah as Se,az as he,X as Be,aA as ge,aB as te,aC as Ge,ag as Ve,aD as ze,l as Je,aE as re,aF as Ke,ab as Xe,a6 as Qe,aG as Ce,au as Ze,aH as $e,aI as je,aJ as ea,aK as aa,aL as ta,s as De,at as Ee,z as se,b as U,A as z,a as O,B as le,aw as ne,D as S,C,F as T,aM as ra,av as L,V as G,f as sa,W as q}from"../chunks/DH7zvddy.js";import{s as I,d as la}from"../chunks/BOIzqSA3.js";import{p as R,i as na}from"../chunks/qvmD8DIL.js";import{p as D}from"../chunks/titRHafN.js";import{g as Y}from"../chunks/BDrrqI-H.js";let me=!1;function We(){me||(me=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var a;if(!e.defaultPrevented)for(const t of e.target.elements)(a=t.__on_r)==null||a.call(t)})},{capture:!0}))}function oa(e){var a=pe,t=ae;fe(null),de(null);try{return e()}finally{fe(a),de(t)}}function Me(e,a,t,n=t){e.addEventListener(a,()=>oa(t));const r=e.__on_r;r?e.__on_r=()=>{r(),n(!0)}:e.__on_r=()=>n(!0),We()}function be(e,a){return a}function ia(e,a,t,n){for(var r=[],s=a.length,u=0;u<s;u++)Ge(a[u].e,r,!0);var v=s>0&&r.length===0&&t!==null;if(v){var g=t.parentNode;Ve(g),g.append(t),n.clear(),P(e,a[0].prev,a[s-1].next)}ze(r,()=>{for(var b=0;b<s;b++){var w=a[b];v||(n.delete(w.k),P(e,w.prev,w.next)),Je(w.e,!v)}})}function we(e,a,t,n,r,s=null){var u=e,v={flags:a,items:new Map,first:null},g=(a&Ce)!==0;if(g){var b=e;u=x?K(Ne(b)):b.appendChild(Ie())}x&&Fe();var w=null,W=!1,_=Le(()=>{var h=t();return Qe(h)?h:h==null?[]:Se(h)});Pe(()=>{var h=d(_),o=h.length;if(W&&o===0)return;W=o===0;let A=!1;if(x){var y=qe(u)===Re;y!==(o===0)&&(u=_e(),K(u),X(!1),A=!0)}if(x){for(var l=null,c,m=0;m<o;m++){if(B.nodeType===Oe&&B.data===Ye){u=B,A=!0,X(!1);break}var i=h[m],f=n(i,m);c=xe(B,v,l,null,i,f,m,r,a,t),v.items.set(f,c),l=c}o>0&&K(_e())}x||ua(h,v,u,r,a,n,t),s!==null&&(o===0?w?Ae(w):w=ke(()=>s(u)):w!==null&&Ue(w,()=>{w=null})),A&&X(!0),d(_)}),x&&(u=B)}function ua(e,a,t,n,r,s,u){var oe,ie,ue,ce;var v=(r&$e)!==0,g=(r&(re|te))!==0,b=e.length,w=a.items,W=a.first,_=W,h,o=null,A,y=[],l=[],c,m,i,f;if(v)for(f=0;f<b;f+=1)c=e[f],m=s(c,f),i=w.get(m),i!==void 0&&((oe=i.a)==null||oe.measure(),(A??(A=new Set)).add(i));for(f=0;f<b;f+=1){if(c=e[f],m=s(c,f),i=w.get(m),i===void 0){var k=_?_.e.nodes_start:t;o=xe(k,a,o,o===null?a.first:o.next,c,m,f,n,r,u),w.set(m,o),y=[],l=[],_=o.next;continue}if(g&&ca(i,c,f,r),(i.e.f&Q)!==0&&(Ae(i.e),v&&((ie=i.a)==null||ie.unfix(),(A??(A=new Set)).delete(i))),i!==_){if(h!==void 0&&h.has(i)){if(y.length<l.length){var M=l[0],E;o=M.prev;var N=y[0],H=y[y.length-1];for(E=0;E<y.length;E+=1)ye(y[E],M,t);for(E=0;E<l.length;E+=1)h.delete(l[E]);P(a,N.prev,H.next),P(a,o,N),P(a,H,M),_=M,o=H,f-=1,y=[],l=[]}else h.delete(i),ye(i,_,t),P(a,i.prev,i.next),P(a,i,o===null?a.first:o.next),P(a,o,i),o=i;continue}for(y=[],l=[];_!==null&&_.k!==m;)(_.e.f&Q)===0&&(h??(h=new Set)).add(_),l.push(_),_=_.next;if(_===null)continue;i=_}y.push(i),o=i,_=i.next}if(_!==null||h!==void 0){for(var p=h===void 0?[]:Se(h);_!==null;)(_.e.f&Q)===0&&p.push(_),_=_.next;var F=p.length;if(F>0){var J=(r&Ce)!==0&&b===0?t:null;if(v){for(f=0;f<F;f+=1)(ue=p[f].a)==null||ue.measure();for(f=0;f<F;f+=1)(ce=p[f].a)==null||ce.fix()}ia(a,p,J,w)}}v&&Ze(()=>{var ve;if(A!==void 0)for(i of A)(ve=i.a)==null||ve.apply()}),ae.first=a.first&&a.first.e,ae.last=o&&o.e}function ca(e,a,t,n){(n&re)!==0&&he(e.v,a),(n&te)!==0?he(e.i,t):e.i=t}function xe(e,a,t,n,r,s,u,v,g,b){var w=(g&re)!==0,W=(g&Ke)===0,_=w?W?Be(r,!1,!1):ge(r):r,h=(g&te)===0?u:ge(u),o={i:h,v:_,k:s,a:null,e:null,prev:t,next:n};try{return o.e=ke(()=>v(e,_,h,b),x),o.e.prev=t&&t.e,o.e.next=n&&n.e,t===null?a.first=o:(t.next=o,t.e.next=o.e),n!==null&&(n.prev=o,n.e.prev=o.e),o}finally{}}function ye(e,a,t){for(var n=e.next?e.next.e.nodes_start:t,r=a?a.e.nodes_start:t,s=e.e.nodes_start;s!==n;){var u=Xe(s);r.before(s),s=u}}function P(e,a,t){a===null?e.first=t:(a.next=t,a.e.next=t&&t.e),t!==null&&(t.prev=a,t.e.prev=a&&a.e)}function va(e,a){return e==null?null:String(e)}function fa(e,a,t,n){var r=e.__style;if(x||r!==a){var s=va(a);(!x||s!==e.getAttribute("style"))&&(s==null?e.removeAttribute("style"):e.style.cssText=s),e.__style=a}return n}const da=Symbol("is custom element"),_a=Symbol("is html");function V(e){if(x){var a=!1,t=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var n=e.value;Te(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var r=e.checked;Te(e,"checked",null),e.checked=r}}};e.__on_r=t,je(t),We()}}function ha(e,a){var t=He(e);t.value===(t.value=a??void 0)||e.value===a&&(a!==0||e.nodeName!=="PROGRESS")||(e.value=a??"")}function Z(e,a){a?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function Te(e,a,t,n){var r=He(e);x&&(r[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||r[a]!==(r[a]=t)&&(a==="loading"&&(e[aa]=t),e.removeAttribute(a))}function He(e){return e.__attributes??(e.__attributes={[da]:e.nodeName.includes("-"),[_a]:e.namespaceURI===ea})}function $(e,a,t=a){var n=ta();Me(e,"input",r=>{var s=r?e.defaultValue:e.value;if(s=j(e)?ee(s):s,t(s),n&&s!==(s=a())){var u=e.selectionStart,v=e.selectionEnd;e.value=s??"",v!==null&&(e.selectionStart=u,e.selectionEnd=Math.min(v,e.value.length))}}),(x&&e.defaultValue!==e.value||De(a)==null&&e.value)&&t(j(e)?ee(e.value):e.value),Ee(()=>{var r=a();j(e)&&r===ee(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function ga(e,a,t=a){Me(e,"change",n=>{var r=n?e.defaultChecked:e.checked;t(r)}),(x&&e.defaultChecked!==e.checked||De(a)==null)&&t(e.checked),Ee(()=>{var n=a();e.checked=!!n})}function j(e){var a=e.type;return a==="number"||a==="range"}function ee(e){return e===""?null:+e}var ma=U('<tr class="svelte-17q09gs"><td class="time svelte-17q09gs"> </td><td class="home team svelte-17q09gs"> </td><td class="home score svelte-17q09gs"> </td><td class="score separator svelte-17q09gs">-</td><td class="away score svelte-17q09gs"> </td><td class="away team svelte-17q09gs"> </td><td class="icon svelte-17q09gs"> </td></tr>'),ba=U('<tbody><tr class="svelte-17q09gs"><td class="date svelte-17q09gs" colspan="7"> </td></tr><!></tbody>'),wa=U('<table class="table svelte-17q09gs"></table>');function ya(e,a){se(a,!0);let t=ne(()=>{const s=new Map;return a.matches.forEach(u=>{const v=n(u.Date),g=s.get(v);g?g.push(u):s.set(v,[u])}),s});function n(s=new Date){if(typeof s=="string"){let b=s;return`${b.slice(8,10)}-${b.slice(5,7)}-${b.slice(0,4)}`}const u=String(s.getDate()).padStart(2,"0"),v=String(s.getMonth()+1).padStart(2,"0"),g=s.getFullYear();return`${u}-${v}-${g}`}var r=wa();we(r,21,()=>d(t).keys(),be,(s,u)=>{var v=ba(),g=C(v),b=C(g),w=C(b,!0);S(b),S(g);var W=T(g);we(W,17,()=>d(t).get(d(u)),be,(_,h)=>{var o=ma(),A=C(o),y=C(A,!0);S(A);var l=T(A),c=C(l,!0);S(l);var m=T(l),i=C(m,!0);S(m);var f=T(m,2),k=C(f,!0);S(f);var M=T(f),E=C(M,!0);S(M);var N=T(M),H=C(N,!0);S(N),S(o),z(p=>{var F,J;I(y,d(h).Time),I(c,d(h).HomeTeam),I(i,(F=d(h).Score)==null?void 0:F.HomeTeam),I(k,(J=d(h).Score)==null?void 0:J.AwayTeam),I(E,d(h).AwayTeam),I(H,p)},[()=>a.iconFunc(d(h))]),O(_,o)}),S(v),z(()=>I(w,d(u))),O(s,v)}),S(r),z(()=>fa(r,`--row-bgColor: ${a.bgColor??""};--row-color: ${a.color??""};`)),O(e,r),le()}function Ta(e){let a=e.currentTarget.value;D.url.searchParams.set("search",a),Y(`?${D.url.searchParams}`)}function Aa(e,a){let t=e.currentTarget.value;a(t),D.url.searchParams.set("hmawfltr",t),Y(`?${D.url.searchParams}`)}function ka(e,a,t){let n=e.currentTarget.value;n===""?(a(null),t(!1),D.url.searchParams.delete("isWholeWeek"),D.url.searchParams.delete("date")):(a(new Date(n)),D.url.searchParams.set("date",`${n}`)),Y(`?${D.url.searchParams}`)}function Sa(e){let a=e.currentTarget.checked;D.url.searchParams.set("isWholeWeek",`${a}`),Y(`?${D.url.searchParams}`)}function Ca(){D.url.searchParams.set("hidemenu","true");const e=D.url.toString();navigator.clipboard.writeText(e)}var Da=(e,a)=>a(e.currentTarget.value),Ea=(e,a)=>a(e.currentTarget.value),Wa=U('<div class="container svelte-bnw3ri"><div class="svelte-bnw3ri">Starts with: <input type="text" class="svelte-bnw3ri"/></div> <div class="colors svelte-bnw3ri">Row color: <input type="color" class="svelte-bnw3ri"/> Text color: <input type="color" class="svelte-bnw3ri"/></div> <div class="homeaway-container svelte-bnw3ri">Home/Away: <select class="svelte-bnw3ri"><option>Both</option><option>Home</option><option>Away</option></select></div> <div class="date svelte-bnw3ri"><label for="dateInput">Date</label> <input type="date" id="dateInput" class="svelte-bnw3ri"/> <input type="checkbox" id="isWholeWeekCheckbox" class="svelte-bnw3ri"/> <label for="isWholeWeekCheckbox">Use whole week</label></div> <button class="svelte-bnw3ri">Get viewing link</button></div>');function Ma(e,a){se(a,!0);let t=R(a,"bgColor",15),n=R(a,"color",15),r=R(a,"homeAwayFilter",15),s=R(a,"searchString",15),u=R(a,"isWholeWeek",15),v=R(a,"date",15),g=ne(()=>{if(v()==null)return null;let H=p=>p.toString().padStart(2,"0");return`${v().getFullYear()}-${H(v().getMonth()+1)}-${H(v().getDate())}`});function b(H){D.url.searchParams.set("bgclr",H),Y(`?${D.url.searchParams}`)}function w(H){D.url.searchParams.set("clr",H),Y(`?${D.url.searchParams}`)}var W=Wa(),_=C(W),h=T(C(_));V(h),h.__change=[Ta],S(_);var o=T(_,2),A=T(C(o));V(A),A.__change=[Da,b];var y=T(A,2);V(y),y.__change=[Ea,w],S(o);var l=T(o,2),c=T(C(l));c.__change=[Aa,r];var m=C(c);m.value=m.__value="both";var i=T(m);i.value=i.__value="home";var f=T(i);f.value=f.__value="away",S(c),S(l);var k=T(l,2),M=T(C(k),2);V(M),M.__change=[ka,v,u];var E=T(M,2);V(E),E.__change=[Sa],ra(2),S(k);var N=T(k,2);N.__pointerdown=[Ca],S(W),z(()=>{Z(m,r()=="both"),Z(i,r()=="home"),Z(f,r()=="away"),ha(M,d(g)),E.disabled=v()==null}),$(h,s),$(A,t),$(y,n),ga(E,u),O(e,W),le()}la(["change","pointerdown"]);var xa=U("<!> <div> </div>",1),Ha=U('<div class="container svelte-572vhb"><!> <!></div>');function qa(e,a){se(a,!0);let{matches:t}=a.data,n=L(G(a.data.bgColor)),r=L(G(a.data.color)),s=L(G(a.data.homeAwayFilter)),u=L(`${a.data.search}`),v=L(G(a.data.isWholeWeek)),g=L(G(a.data.date)),b=ne(w);function w(){let l=t.slice();if(d(v)){let c=d(g)??new Date;const m=new Date(c.setDate(c.getUTCDate()-c.getUTCDay()+1)),i=new Date(m);i.setDate(i.getUTCDate()+8),l=l.filter(f=>f.Date>=m&&f.Date<=i)}else d(g)!=null&&typeof d(g)!="string"&&(console.log(typeof d(g),d(g)),l=l.filter(c=>_(c.Date,d(g))));return d(s)=="home"?l.filter(c=>c.HomeTeam.startsWith(`${d(u)}`)):d(s)=="away"?l.filter(c=>c.AwayTeam.startsWith(`${d(u)}`)):l.filter(c=>c.HomeTeam.startsWith(`${d(u)}`)||c.AwayTeam.startsWith(`${d(u)}`))}function W(l){if(l.Score==null)return"";const c=l.HomeTeam.startsWith(`${d(u)}`);return c&&l.Score.HomeTeam>l.Score.AwayTeam||!c&&l.Score.HomeTeam<l.Score.AwayTeam?"✅":!c&&l.Score.HomeTeam>l.Score.AwayTeam||c&&l.Score.HomeTeam<l.Score.AwayTeam?"❌":"="}function _(l,c){return l.getFullYear()===c.getFullYear()&&l.getMonth()===c.getMonth()&&l.getDate()===c.getDate()}var h=Ha(),o=C(h);{var A=l=>{var c=xa(),m=sa(c);Ma(m,{get bgColor(){return d(n)},set bgColor(k){q(n,k,!0)},get color(){return d(r)},set color(k){q(r,k,!0)},get homeAwayFilter(){return d(s)},set homeAwayFilter(k){q(s,k,!0)},get searchString(){return d(u)},set searchString(k){q(u,k,!0)},get isWholeWeek(){return d(v)},set isWholeWeek(k){q(v,k,!0)},get date(){return d(g)},set date(k){q(g,k,!0)}});var i=T(m,2),f=C(i);S(i),z(()=>I(f,`${d(b).length??""} matches`)),O(l,c)};na(o,l=>{D.url.searchParams.get("hidemenu")!=="true"&&l(A)})}var y=T(o,2);ya(y,{get matches(){return d(b)},get color(){return d(r)},get bgColor(){return d(n)},iconFunc:W}),S(h),O(e,h),le()}export{qa as component};
