import"../chunks/CWj6FrbW.js";import{a4 as fe,a5 as de,a7 as He,a8 as ae,aj as Ie,d as Pe,K,h as W,o as Ne,g as Fe,w as v,R as Le,G as qe,I as Re,J as _e,L as X,m as B,aa as Oe,ad as Ye,M as Ae,k as Se,N as Ue,ay as Q,ah as ke,az as he,X as Be,aA as ge,aB as te,aC as Ge,ag as Ve,aD as ze,l as Je,aE as re,aF as Ke,ab as Xe,a6 as Qe,aG as Ce,au as Ze,aH as je,aI as $e,aJ as ea,aK as aa,aL as ta,s as De,at as Ee,z as se,b as U,A as z,a as O,B as le,aw as ne,D as S,C as D,F as A,aM as ra,av as L,V as G,f as sa,W as q}from"../chunks/DH7zvddy.js";import{s as I,d as la}from"../chunks/BOIzqSA3.js";import{p as R,i as na}from"../chunks/qvmD8DIL.js";import{p as M}from"../chunks/CL78LPpm.js";import{g as Y}from"../chunks/BMbNBGKi.js";let me=!1;function Me(){me||(me=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var a;if(!e.defaultPrevented)for(const t of e.target.elements)(a=t.__on_r)==null||a.call(t)})},{capture:!0}))}function ia(e){var a=He,t=ae;fe(null),de(null);try{return e()}finally{fe(a),de(t)}}function xe(e,a,t,i=t){e.addEventListener(a,()=>ia(t));const l=e.__on_r;l?e.__on_r=()=>{l(),i(!0)}:e.__on_r=()=>i(!0),Me()}function be(e,a){return a}function oa(e,a,t,i){for(var l=[],n=a.length,u=0;u<n;u++)Ge(a[u].e,l,!0);var f=n>0&&l.length===0&&t!==null;if(f){var h=t.parentNode;Ve(h),h.append(t),i.clear(),P(e,a[0].prev,a[n-1].next)}ze(l,()=>{for(var m=0;m<n;m++){var b=a[m];f||(i.delete(b.k),P(e,b.prev,b.next)),Je(b.e,!f)}})}function we(e,a,t,i,l,n=null){var u=e,f={flags:a,items:new Map,first:null},h=(a&Ce)!==0;if(h){var m=e;u=W?K(Ne(m)):m.appendChild(Ie())}W&&Fe();var b=null,E=!1,d=Le(()=>{var _=t();return Qe(_)?_:_==null?[]:ke(_)});Pe(()=>{var _=v(d),o=_.length;if(E&&o===0)return;E=o===0;let w=!1;if(W){var y=qe(u)===Re;y!==(o===0)&&(u=_e(),K(u),X(!1),w=!0)}if(W){for(var T=null,k,s=0;s<o;s++){if(B.nodeType===Oe&&B.data===Ye){u=B,w=!0,X(!1);break}var r=_[s],c=i(r,s);k=We(B,f,T,null,r,c,s,l,a,t),f.items.set(c,k),T=k}o>0&&K(_e())}W||ua(_,f,u,l,a,i,t),n!==null&&(o===0?b?Ae(b):b=Se(()=>n(u)):b!==null&&Ue(b,()=>{b=null})),w&&X(!0),v(d)}),W&&(u=B)}function ua(e,a,t,i,l,n,u){var ie,oe,ue,ce;var f=(l&je)!==0,h=(l&(re|te))!==0,m=e.length,b=a.items,E=a.first,d=E,_,o=null,w,y=[],T=[],k,s,r,c;if(f)for(c=0;c<m;c+=1)k=e[c],s=n(k,c),r=b.get(s),r!==void 0&&((ie=r.a)==null||ie.measure(),(w??(w=new Set)).add(r));for(c=0;c<m;c+=1){if(k=e[c],s=n(k,c),r=b.get(s),r===void 0){var x=d?d.e.nodes_start:t;o=We(x,a,o,o===null?a.first:o.next,k,s,c,i,l,u),b.set(s,o),y=[],T=[],d=o.next;continue}if(h&&ca(r,k,c,l),(r.e.f&Q)!==0&&(Ae(r.e),f&&((oe=r.a)==null||oe.unfix(),(w??(w=new Set)).delete(r))),r!==d){if(_!==void 0&&_.has(r)){if(y.length<T.length){var C=T[0],g;o=C.prev;var N=y[0],p=y[y.length-1];for(g=0;g<y.length;g+=1)ye(y[g],C,t);for(g=0;g<T.length;g+=1)_.delete(T[g]);P(a,N.prev,p.next),P(a,o,N),P(a,p,C),d=C,o=p,c-=1,y=[],T=[]}else _.delete(r),ye(r,d,t),P(a,r.prev,r.next),P(a,r,o===null?a.first:o.next),P(a,o,r),o=r;continue}for(y=[],T=[];d!==null&&d.k!==s;)(d.e.f&Q)===0&&(_??(_=new Set)).add(d),T.push(d),d=d.next;if(d===null)continue;r=d}y.push(r),o=r,d=r.next}if(d!==null||_!==void 0){for(var H=_===void 0?[]:ke(_);d!==null;)(d.e.f&Q)===0&&H.push(d),d=d.next;var F=H.length;if(F>0){var J=(l&Ce)!==0&&m===0?t:null;if(f){for(c=0;c<F;c+=1)(ue=H[c].a)==null||ue.measure();for(c=0;c<F;c+=1)(ce=H[c].a)==null||ce.fix()}oa(a,H,J,b)}}f&&Ze(()=>{var ve;if(w!==void 0)for(r of w)(ve=r.a)==null||ve.apply()}),ae.first=a.first&&a.first.e,ae.last=o&&o.e}function ca(e,a,t,i){(i&re)!==0&&he(e.v,a),(i&te)!==0?he(e.i,t):e.i=t}function We(e,a,t,i,l,n,u,f,h,m){var b=(h&re)!==0,E=(h&Ke)===0,d=b?E?Be(l,!1,!1):ge(l):l,_=(h&te)===0?u:ge(u),o={i:_,v:d,k:n,a:null,e:null,prev:t,next:i};try{return o.e=Se(()=>f(e,d,_,m),W),o.e.prev=t&&t.e,o.e.next=i&&i.e,t===null?a.first=o:(t.next=o,t.e.next=o.e),i!==null&&(i.prev=o,i.e.prev=o.e),o}finally{}}function ye(e,a,t){for(var i=e.next?e.next.e.nodes_start:t,l=a?a.e.nodes_start:t,n=e.e.nodes_start;n!==i;){var u=Xe(n);l.before(n),n=u}}function P(e,a,t){a===null?e.first=t:(a.next=t,a.e.next=t&&t.e),t!==null&&(t.prev=a,t.e.prev=a&&a.e)}function va(e,a){return e==null?null:String(e)}function fa(e,a,t,i){var l=e.__style;if(W||l!==a){var n=va(a);(!W||n!==e.getAttribute("style"))&&(n==null?e.removeAttribute("style"):e.style.cssText=n),e.__style=a}return i}const da=Symbol("is custom element"),_a=Symbol("is html");function V(e){if(W){var a=!1,t=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var i=e.value;Te(e,"value",null),e.value=i}if(e.hasAttribute("checked")){var l=e.checked;Te(e,"checked",null),e.checked=l}}};e.__on_r=t,$e(t),Me()}}function ha(e,a){var t=pe(e);t.value===(t.value=a??void 0)||e.value===a&&(a!==0||e.nodeName!=="PROGRESS")||(e.value=a??"")}function Z(e,a){a?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function Te(e,a,t,i){var l=pe(e);W&&(l[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||l[a]!==(l[a]=t)&&(a==="loading"&&(e[aa]=t),e.removeAttribute(a))}function pe(e){return e.__attributes??(e.__attributes={[da]:e.nodeName.includes("-"),[_a]:e.namespaceURI===ea})}function j(e,a,t=a){var i=ta();xe(e,"input",l=>{var n=l?e.defaultValue:e.value;if(n=$(e)?ee(n):n,t(n),i&&n!==(n=a())){var u=e.selectionStart,f=e.selectionEnd;e.value=n??"",f!==null&&(e.selectionStart=u,e.selectionEnd=Math.min(f,e.value.length))}}),(W&&e.defaultValue!==e.value||De(a)==null&&e.value)&&t($(e)?ee(e.value):e.value),Ee(()=>{var l=a();$(e)&&l===ee(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function ga(e,a,t=a){xe(e,"change",i=>{var l=i?e.defaultChecked:e.checked;t(l)}),(W&&e.defaultChecked!==e.checked||De(a)==null)&&t(e.checked),Ee(()=>{var i=a();e.checked=!!i})}function $(e){var a=e.type;return a==="number"||a==="range"}function ee(e){return e===""?null:+e}var ma=U('<tr class="svelte-17q09gs"><td class="time svelte-17q09gs"> </td><td class="home team svelte-17q09gs"> </td><td class="home score svelte-17q09gs"> </td><td class="score separator svelte-17q09gs">-</td><td class="away score svelte-17q09gs"> </td><td class="away team svelte-17q09gs"> </td><td class="icon svelte-17q09gs"> </td></tr>'),ba=U('<tbody><tr class="svelte-17q09gs"><td class="date svelte-17q09gs" colspan="7"> </td></tr><!></tbody>'),wa=U('<table class="table svelte-17q09gs"></table>');function ya(e,a){se(a,!0);let t=ne(()=>{const n=new Map;return a.matches.forEach(u=>{const f=i(u.Date),h=n.get(f);h?h.push(u):n.set(f,[u])}),n});function i(n=new Date){if(typeof n=="string"){let m=n;return`${m.slice(8,10)}-${m.slice(5,7)}-${m.slice(0,4)}`}const u=String(n.getDate()).padStart(2,"0"),f=String(n.getMonth()+1).padStart(2,"0"),h=n.getFullYear();return`${u}-${f}-${h}`}var l=wa();we(l,21,()=>v(t).keys(),be,(n,u)=>{var f=ba(),h=D(f),m=D(h),b=D(m,!0);S(m),S(h);var E=A(h);we(E,17,()=>v(t).get(v(u)),be,(d,_)=>{var o=ma(),w=D(o),y=D(w,!0);S(w);var T=A(w),k=D(T,!0);S(T);var s=A(T),r=D(s,!0);S(s);var c=A(s,2),x=D(c,!0);S(c);var C=A(c),g=D(C,!0);S(C);var N=A(C),p=D(N,!0);S(N),S(o),z(H=>{var F,J;I(y,v(_).Time),I(k,v(_).HomeTeam),I(r,(F=v(_).Score)==null?void 0:F.HomeTeam),I(x,(J=v(_).Score)==null?void 0:J.AwayTeam),I(g,v(_).AwayTeam),I(p,H)},[()=>a.iconFunc(v(_))]),O(d,o)}),S(f),z(()=>I(b,v(u))),O(n,f)}),S(l),z(()=>fa(l,`--row-bgColor: ${a.bgColor??""};--row-color: ${a.color??""};`)),O(e,l),le()}function Ta(e){let a=e.currentTarget.value;M.url.searchParams.set("search",a),Y(`?${M.url.searchParams}`)}function Aa(e,a){let t=e.currentTarget.value;a(t),M.url.searchParams.set("hmawfltr",t),Y(`?${M.url.searchParams}`)}function Sa(e,a,t){let i=e.currentTarget.value;i===""?(a(null),t(!1),M.url.searchParams.delete("isWholeWeek"),M.url.searchParams.delete("date")):(a(new Date(i)),M.url.searchParams.set("date",`${i}`)),Y(`?${M.url.searchParams}`)}function ka(e){let a=e.currentTarget.checked;M.url.searchParams.set("isWholeWeek",`${a}`),Y(`?${M.url.searchParams}`)}function Ca(){M.url.searchParams.set("hidemenu","true");const e=M.url.toString();navigator.clipboard.writeText(e)}var Da=(e,a)=>a(e.currentTarget.value),Ea=(e,a)=>a(e.currentTarget.value),Ma=U('<div class="container svelte-bnw3ri"><div class="svelte-bnw3ri">Starts with: <input type="text" class="svelte-bnw3ri"/></div> <div class="colors svelte-bnw3ri">Row color: <input type="color" class="svelte-bnw3ri"/> Text color: <input type="color" class="svelte-bnw3ri"/></div> <div class="homeaway-container svelte-bnw3ri">Home/Away: <select class="svelte-bnw3ri"><option>Both</option><option>Home</option><option>Away</option></select></div> <div class="date svelte-bnw3ri"><label for="dateInput">Date</label> <input type="date" id="dateInput" class="svelte-bnw3ri"/> <input type="checkbox" id="isWholeWeekCheckbox" class="svelte-bnw3ri"/> <label for="isWholeWeekCheckbox">Use whole week</label></div> <button class="svelte-bnw3ri">Get viewing link</button></div>');function xa(e,a){se(a,!0);let t=R(a,"bgColor",15),i=R(a,"color",15),l=R(a,"homeAwayFilter",15),n=R(a,"searchString",15),u=R(a,"isWholeWeek",15),f=R(a,"date",15),h=ne(()=>{if(f()==null)return null;let p=H=>H.toString().padStart(2,"0");return`${f().getFullYear()}-${p(f().getMonth()+1)}-${p(f().getDate())}`});function m(p){M.url.searchParams.set("bgclr",p),Y(`?${M.url.searchParams}`)}function b(p){M.url.searchParams.set("clr",p),Y(`?${M.url.searchParams}`)}var E=Ma(),d=D(E),_=A(D(d));V(_),_.__change=[Ta],S(d);var o=A(d,2),w=A(D(o));V(w),w.__change=[Da,m];var y=A(w,2);V(y),y.__change=[Ea,b],S(o);var T=A(o,2),k=A(D(T));k.__change=[Aa,l];var s=D(k);s.value=s.__value="both";var r=A(s);r.value=r.__value="home";var c=A(r);c.value=c.__value="away",S(k),S(T);var x=A(T,2),C=A(D(x),2);V(C),C.__change=[Sa,f,u];var g=A(C,2);V(g),g.__change=[ka],ra(2),S(x);var N=A(x,2);N.__pointerdown=[Ca],S(E),z(()=>{Z(s,l()=="both"),Z(r,l()=="home"),Z(c,l()=="away"),ha(C,v(h)),g.disabled=f()==null}),j(_,n),j(w,t),j(y,i),ga(g,u),O(e,E),le()}la(["change","pointerdown"]);var Wa=U("<!> <div> </div>",1),pa=U('<div class="container svelte-572vhb"><!> <!></div>');function qa(e,a){se(a,!0);let{matches:t}=a.data,i=L(G(a.data.bgColor)),l=L(G(a.data.color)),n=L(G(a.data.homeAwayFilter)),u=L(`${a.data.search}`),f=L(G(a.data.isWholeWeek)),h=L(G(a.data.date)),m=ne(b);function b(){let s=t.slice();if(v(f)){let r=v(h)??new Date;const c=new Date(r.setDate(r.getUTCDate()-r.getUTCDay()+1)),x=new Date(c);x.setDate(x.getUTCDate()+8),s=s.filter(C=>C.Date>=c&&C.Date<=x)}else v(h)!=null&&typeof v(h)!="string"&&(console.log(typeof v(h),v(h)),s=s.filter(r=>o(r.Date,v(h))));return v(n)=="home"?s.filter(r=>r.HomeTeam.startsWith(`${v(u)}`)):v(n)=="away"?s.filter(r=>r.AwayTeam.startsWith(`${v(u)}`)):s.filter(d)}function E(s,r){return s.toUpperCase().startsWith(r.toUpperCase())}function d(s){return E(s.HomeTeam,v(u))||E(s.AwayTeam,v(u))}function _(s){if(s.Score==null)return"";const r=E(s.HomeTeam,v(u)),c=E(s.AwayTeam,v(u));return r==c?"?":r&&s.Score.HomeTeam>s.Score.AwayTeam?"✅":r&&s.Score.HomeTeam<s.Score.AwayTeam?"❌":c&&s.Score.HomeTeam<s.Score.AwayTeam?"✅":c&&s.Score.HomeTeam>s.Score.AwayTeam?"❌":"="}function o(s,r){return s.getFullYear()===r.getFullYear()&&s.getMonth()===r.getMonth()&&s.getDate()===r.getDate()}var w=pa(),y=D(w);{var T=s=>{var r=Wa(),c=sa(r);xa(c,{get bgColor(){return v(i)},set bgColor(g){q(i,g,!0)},get color(){return v(l)},set color(g){q(l,g,!0)},get homeAwayFilter(){return v(n)},set homeAwayFilter(g){q(n,g,!0)},get searchString(){return v(u)},set searchString(g){q(u,g,!0)},get isWholeWeek(){return v(f)},set isWholeWeek(g){q(f,g,!0)},get date(){return v(h)},set date(g){q(h,g,!0)}});var x=A(c,2),C=D(x);S(x),z(()=>I(C,`${v(m).length??""} matches`)),O(s,r)};na(y,s=>{M.url.searchParams.get("hidemenu")!=="true"&&s(T)})}var k=A(y,2);ya(k,{get matches(){return v(m)},get color(){return v(l)},get bgColor(){return v(i)},iconFunc:_}),S(w),O(e,w),le()}export{qa as component};
