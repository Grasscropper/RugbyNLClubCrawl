import"../chunks/CWj6FrbW.js";import{a4 as fe,a5 as de,a7 as He,a8 as ae,aj as Ie,d as Pe,K,h as M,o as Ne,g as Fe,w as f,R as Le,G as qe,I as Re,J as _e,L as X,m as Y,aa as Oe,ad as Ye,M as Ae,k as Se,N as Ue,ay as Q,ah as ke,az as he,X as Be,aA as ge,aB as te,aC as Ge,ag as Ve,aD as ze,l as Je,aE as re,aF as Ke,ab as Xe,a6 as Qe,aG as Ce,au as Ze,aH as $e,aI as je,aJ as ea,aK as aa,aL as ta,s as De,at as Ee,z as se,b as z,A as G,a as V,B as le,aw as ne,D as A,C,F as T,aM as ra,av as L,V as U,W as q}from"../chunks/DH7zvddy.js";import{s as I,d as sa}from"../chunks/BOIzqSA3.js";import{p as R,i as la}from"../chunks/qvmD8DIL.js";import{p as E}from"../chunks/R9tbqAK5.js";import{g as O}from"../chunks/B06e--Tq.js";let me=!1;function We(){me||(me=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var a;if(!e.defaultPrevented)for(const t of e.target.elements)(a=t.__on_r)==null||a.call(t)})},{capture:!0}))}function na(e){var a=He,t=ae;fe(null),de(null);try{return e()}finally{fe(a),de(t)}}function Me(e,a,t,i=t){e.addEventListener(a,()=>na(t));const l=e.__on_r;l?e.__on_r=()=>{l(),i(!0)}:e.__on_r=()=>i(!0),We()}function be(e,a){return a}function oa(e,a,t,i){for(var l=[],n=a.length,c=0;c<n;c++)Ge(a[c].e,l,!0);var u=n>0&&l.length===0&&t!==null;if(u){var h=t.parentNode;Ve(h),h.append(t),i.clear(),P(e,a[0].prev,a[n-1].next)}ze(l,()=>{for(var _=0;_<n;_++){var g=a[_];u||(i.delete(g.k),P(e,g.prev,g.next)),Je(g.e,!u)}})}function we(e,a,t,i,l,n=null){var c=e,u={flags:a,items:new Map,first:null},h=(a&Ce)!==0;if(h){var _=e;c=M?K(Ne(_)):_.appendChild(Ie())}M&&Fe();var g=null,W=!1,v=Le(()=>{var d=t();return Qe(d)?d:d==null?[]:ke(d)});Pe(()=>{var d=f(v),o=d.length;if(W&&o===0)return;W=o===0;let w=!1;if(M){var y=qe(c)===Re;y!==(o===0)&&(c=_e(),K(c),X(!1),w=!0)}if(M){for(var b=null,S,m=0;m<o;m++){if(Y.nodeType===Oe&&Y.data===Ye){c=Y,w=!0,X(!1);break}var s=d[m],r=i(s,m);S=xe(Y,u,b,null,s,r,m,l,a,t),u.items.set(r,S),b=S}o>0&&K(_e())}M||ia(d,u,c,l,a,i,t),n!==null&&(o===0?g?Ae(g):g=Se(()=>n(c)):g!==null&&Ue(g,()=>{g=null})),w&&X(!0),f(v)}),M&&(c=Y)}function ia(e,a,t,i,l,n,c){var oe,ie,ue,ce;var u=(l&$e)!==0,h=(l&(re|te))!==0,_=e.length,g=a.items,W=a.first,v=W,d,o=null,w,y=[],b=[],S,m,s,r;if(u)for(r=0;r<_;r+=1)S=e[r],m=n(S,r),s=g.get(m),s!==void 0&&((oe=s.a)==null||oe.measure(),(w??(w=new Set)).add(s));for(r=0;r<_;r+=1){if(S=e[r],m=n(S,r),s=g.get(m),s===void 0){var p=v?v.e.nodes_start:t;o=xe(p,a,o,o===null?a.first:o.next,S,m,r,i,l,c),g.set(m,o),y=[],b=[],v=o.next;continue}if(h&&ua(s,S,r,l),(s.e.f&Q)!==0&&(Ae(s.e),u&&((ie=s.a)==null||ie.unfix(),(w??(w=new Set)).delete(s))),s!==v){if(d!==void 0&&d.has(s)){if(y.length<b.length){var D=b[0],k;o=D.prev;var N=y[0],x=y[y.length-1];for(k=0;k<y.length;k+=1)ye(y[k],D,t);for(k=0;k<b.length;k+=1)d.delete(b[k]);P(a,N.prev,x.next),P(a,o,N),P(a,x,D),v=D,o=x,r-=1,y=[],b=[]}else d.delete(s),ye(s,v,t),P(a,s.prev,s.next),P(a,s,o===null?a.first:o.next),P(a,o,s),o=s;continue}for(y=[],b=[];v!==null&&v.k!==m;)(v.e.f&Q)===0&&(d??(d=new Set)).add(v),b.push(v),v=v.next;if(v===null)continue;s=v}y.push(s),o=s,v=s.next}if(v!==null||d!==void 0){for(var H=d===void 0?[]:ke(d);v!==null;)(v.e.f&Q)===0&&H.push(v),v=v.next;var F=H.length;if(F>0){var J=(l&Ce)!==0&&_===0?t:null;if(u){for(r=0;r<F;r+=1)(ue=H[r].a)==null||ue.measure();for(r=0;r<F;r+=1)(ce=H[r].a)==null||ce.fix()}oa(a,H,J,g)}}u&&Ze(()=>{var ve;if(w!==void 0)for(s of w)(ve=s.a)==null||ve.apply()}),ae.first=a.first&&a.first.e,ae.last=o&&o.e}function ua(e,a,t,i){(i&re)!==0&&he(e.v,a),(i&te)!==0?he(e.i,t):e.i=t}function xe(e,a,t,i,l,n,c,u,h,_){var g=(h&re)!==0,W=(h&Ke)===0,v=g?W?Be(l,!1,!1):ge(l):l,d=(h&te)===0?c:ge(c),o={i:d,v,k:n,a:null,e:null,prev:t,next:i};try{return o.e=Se(()=>u(e,v,d,_),M),o.e.prev=t&&t.e,o.e.next=i&&i.e,t===null?a.first=o:(t.next=o,t.e.next=o.e),i!==null&&(i.prev=o,i.e.prev=o.e),o}finally{}}function ye(e,a,t){for(var i=e.next?e.next.e.nodes_start:t,l=a?a.e.nodes_start:t,n=e.e.nodes_start;n!==i;){var c=Xe(n);l.before(n),n=c}}function P(e,a,t){a===null?e.first=t:(a.next=t,a.e.next=t&&t.e),t!==null&&(t.prev=a,t.e.prev=a&&a.e)}function ca(e,a){return e==null?null:String(e)}function va(e,a,t,i){var l=e.__style;if(M||l!==a){var n=ca(a);(!M||n!==e.getAttribute("style"))&&(n==null?e.removeAttribute("style"):e.style.cssText=n),e.__style=a}return i}const fa=Symbol("is custom element"),da=Symbol("is html");function B(e){if(M){var a=!1,t=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var i=e.value;Te(e,"value",null),e.value=i}if(e.hasAttribute("checked")){var l=e.checked;Te(e,"checked",null),e.checked=l}}};e.__on_r=t,je(t),We()}}function _a(e,a){var t=pe(e);t.value===(t.value=a??void 0)||e.value===a&&(a!==0||e.nodeName!=="PROGRESS")||(e.value=a??"")}function Z(e,a){a?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function Te(e,a,t,i){var l=pe(e);M&&(l[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||l[a]!==(l[a]=t)&&(a==="loading"&&(e[aa]=t),e.removeAttribute(a))}function pe(e){return e.__attributes??(e.__attributes={[fa]:e.nodeName.includes("-"),[da]:e.namespaceURI===ea})}function $(e,a,t=a){var i=ta();Me(e,"input",l=>{var n=l?e.defaultValue:e.value;if(n=j(e)?ee(n):n,t(n),i&&n!==(n=a())){var c=e.selectionStart,u=e.selectionEnd;e.value=n??"",u!==null&&(e.selectionStart=c,e.selectionEnd=Math.min(u,e.value.length))}}),(M&&e.defaultValue!==e.value||De(a)==null&&e.value)&&t(j(e)?ee(e.value):e.value),Ee(()=>{var l=a();j(e)&&l===ee(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function ha(e,a,t=a){Me(e,"change",i=>{var l=i?e.defaultChecked:e.checked;t(l)}),(M&&e.defaultChecked!==e.checked||De(a)==null)&&t(e.checked),Ee(()=>{var i=a();e.checked=!!i})}function j(e){var a=e.type;return a==="number"||a==="range"}function ee(e){return e===""?null:+e}var ga=z('<tr class="svelte-17q09gs"><td class="time svelte-17q09gs"> </td><td class="home team svelte-17q09gs"> </td><td class="home score svelte-17q09gs"> </td><td class="score separator svelte-17q09gs">-</td><td class="away score svelte-17q09gs"> </td><td class="away team svelte-17q09gs"> </td><td class="icon svelte-17q09gs"> </td></tr>'),ma=z('<tbody><tr class="svelte-17q09gs"><td class="date svelte-17q09gs" colspan="7"> </td></tr><!></tbody>'),ba=z('<table class="table svelte-17q09gs"></table>');function wa(e,a){se(a,!0);let t=ne(()=>{const n=new Map;return a.matches.forEach(c=>{const u=i(c.Date),h=n.get(u);h?h.push(c):n.set(u,[c])}),n});function i(n=new Date){if(typeof n=="string"){let _=n;return`${_.slice(8,10)}-${_.slice(5,7)}-${_.slice(0,4)}`}const c=String(n.getDate()).padStart(2,"0"),u=String(n.getMonth()+1).padStart(2,"0"),h=n.getFullYear();return`${c}-${u}-${h}`}var l=ba();we(l,21,()=>f(t).keys(),be,(n,c)=>{var u=ma(),h=C(u),_=C(h),g=C(_,!0);A(_),A(h);var W=T(h);we(W,17,()=>f(t).get(f(c)),be,(v,d)=>{var o=ga(),w=C(o),y=C(w,!0);A(w);var b=T(w),S=C(b,!0);A(b);var m=T(b),s=C(m,!0);A(m);var r=T(m,2),p=C(r,!0);A(r);var D=T(r),k=C(D,!0);A(D);var N=T(D),x=C(N,!0);A(N),A(o),G(H=>{var F,J;I(y,f(d).Time),I(S,f(d).HomeTeam),I(s,(F=f(d).Score)==null?void 0:F.HomeTeam),I(p,(J=f(d).Score)==null?void 0:J.AwayTeam),I(k,f(d).AwayTeam),I(x,H)},[()=>a.iconFunc(f(d))]),V(v,o)}),A(u),G(()=>I(g,f(c))),V(n,u)}),A(l),G(()=>va(l,`--row-bgColor: ${a.bgColor??""};--row-color: ${a.color??""};`)),V(e,l),le()}function ya(e,a){let t=e.currentTarget.value;a(t),E.url.searchParams.set("hmawfltr",t),O(`?${E.url.searchParams}`)}function Ta(e,a,t){let i=e.currentTarget.value;i===""?(a(null),t(!1),E.url.searchParams.delete("isWholeWeek"),E.url.searchParams.delete("date")):(a(new Date(i)),E.url.searchParams.set("date",`${i}`)),O(`?${E.url.searchParams}`)}function Aa(e){let a=e.currentTarget.checked;E.url.searchParams.set("isWholeWeek",`${a}`),O(`?${E.url.searchParams}`)}function Sa(e,a){O(`${a()}?${E.url.searchParams}`)}function ka(){E.url.searchParams.set("hidemenu","true");const e=E.url.toString();navigator.clipboard.writeText(e)}var Ca=(e,a)=>a(e.currentTarget.value),Da=(e,a)=>a(e.currentTarget.value),Ea=z('<div class="container svelte-bnw3ri"><div class="svelte-bnw3ri">Starts with: <input type="text" class="svelte-bnw3ri"/></div> <div class="colors svelte-bnw3ri">Row color: <input type="color" class="svelte-bnw3ri"/> Text color: <input type="color" class="svelte-bnw3ri"/></div> <div class="homeaway-container svelte-bnw3ri">Home/Away: <select class="svelte-bnw3ri"><option>Both</option><option>Home</option><option>Away</option></select></div> <div class="date svelte-bnw3ri"><label for="dateInput">Date</label> <input type="date" id="dateInput" class="svelte-bnw3ri"/> <input type="checkbox" id="isWholeWeekCheckbox" class="svelte-bnw3ri"/> <label for="isWholeWeekCheckbox">Use whole week</label></div> <button class="svelte-bnw3ri">Get viewing link</button></div>');function Wa(e,a){se(a,!0);let t=R(a,"bgColor",15),i=R(a,"color",15),l=R(a,"homeAwayFilter",15),n=R(a,"searchString",15),c=R(a,"isWholeWeek",15),u=R(a,"date",15),h=ne(()=>{if(u()==null)return null;let x=H=>H.toString().padStart(2,"0");return`${u().getFullYear()}-${x(u().getMonth()+1)}-${x(u().getDate())}`});function _(x){E.url.searchParams.set("bgclr",x),O(`?${E.url.searchParams}`)}function g(x){E.url.searchParams.set("clr",x),O(`?${E.url.searchParams}`)}var W=Ea(),v=C(W),d=T(C(v));B(d),d.__change=[Sa,n],A(v);var o=T(v,2),w=T(C(o));B(w),w.__change=[Ca,_];var y=T(w,2);B(y),y.__change=[Da,g],A(o);var b=T(o,2),S=T(C(b));S.__change=[ya,l];var m=C(S);m.value=m.__value="both";var s=T(m);s.value=s.__value="home";var r=T(s);r.value=r.__value="away",A(S),A(b);var p=T(b,2),D=T(C(p),2);B(D),D.__change=[Ta,u,c];var k=T(D,2);B(k),k.__change=[Aa],ra(2),A(p);var N=T(p,2);N.__pointerdown=[ka],A(W),G(()=>{Z(m,l()=="both"),Z(s,l()=="home"),Z(r,l()=="away"),_a(D,f(h)),k.disabled=u()==null}),$(d,n),$(w,t),$(y,i),ha(k,c),V(e,W),le()}sa(["change","pointerdown"]);var Ma=z('<div class="container svelte-572vhb"><!> <div> </div> <!></div>');function Fa(e,a){se(a,!0);let{matches:t,search:i}=a.data,l=L(U(a.data.bgColor)),n=L(U(a.data.color)),c=L(U(a.data.homeAwayFilter)),u=L(`${i}`),h=L(U(a.data.isWholeWeek)),_=L(U(a.data.date)),g=ne(W);function W(){let s=t.slice();if(f(h)){let r=f(_)??new Date;const p=new Date(r.setDate(r.getUTCDate()-r.getUTCDay()+1)),D=new Date(p);D.setDate(D.getUTCDate()+8),s=s.filter(k=>k.Date>=p&&k.Date<=D)}else f(_)!=null&&typeof f(_)!="string"&&(console.log(typeof f(_),f(_)),s=s.filter(r=>d(r.Date,f(_))));return f(c)=="home"?s.filter(r=>r.HomeTeam.startsWith(`${f(u)}`)):f(c)=="away"?s.filter(r=>r.AwayTeam.startsWith(`${f(u)}`)):s.filter(r=>r.HomeTeam.startsWith(`${f(u)}`)||r.AwayTeam.startsWith(`${f(u)}`))}function v(s){if(s.Score==null)return"";const r=s.HomeTeam.startsWith(`${f(u)}`);return r&&s.Score.HomeTeam>s.Score.AwayTeam||!r&&s.Score.HomeTeam<s.Score.AwayTeam?"✅":!r&&s.Score.HomeTeam>s.Score.AwayTeam||r&&s.Score.HomeTeam<s.Score.AwayTeam?"❌":"="}function d(s,r){return s.getFullYear()===r.getFullYear()&&s.getMonth()===r.getMonth()&&s.getDate()===r.getDate()}var o=Ma(),w=C(o);{var y=s=>{Wa(s,{get bgColor(){return f(l)},set bgColor(r){q(l,r,!0)},get color(){return f(n)},set color(r){q(n,r,!0)},get homeAwayFilter(){return f(c)},set homeAwayFilter(r){q(c,r,!0)},get searchString(){return f(u)},set searchString(r){q(u,r,!0)},get isWholeWeek(){return f(h)},set isWholeWeek(r){q(h,r,!0)},get date(){return f(_)},set date(r){q(_,r,!0)}})};la(w,s=>{E.url.searchParams.get("hidemenu")!=="true"&&s(y)})}var b=T(w,2),S=C(b);A(b);var m=T(b,2);wa(m,{get matches(){return f(g)},get color(){return f(n)},get bgColor(){return f(l)},iconFunc:v}),A(o),G(s=>I(S,`${s??""} matches`),[()=>W().length]),V(e,o),le()}export{Fa as component};
